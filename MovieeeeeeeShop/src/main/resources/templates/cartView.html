<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #0d9984;">
    <div class="container-fluid">
        <a class="navbar-brand">
        <a class="navbar-brand text-white-50 " href="/movies">Movies Shop</a>
        <div class="navbar-brand text-white" id="navbarNav">
            <form th:action="@{/cart}" method="post">
                <input type="hidden" name="id" th:value="${0}" />
                <input type="submit" value="Cart" class="btn btn-link sm text-light" />
            </form>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <table border="2" class="table table-hover table-light table-striped table-sm border-info" >
        <thead class="table-secondary">
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>Prize</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="movi: ${contents}" >
            <td class="text-wrap" th:text="${movi.id}" style="width: 8%"></td>
            <td class="text-wrap" th:text="${movi.title}"></td>
            <td th:text="${movi.prize}"></td>
            <td style="width: 20%;">
                <form th:action="@{/delete}" method="post">
                    <input type="hidden" name="movieId" th:value="${movi.id}" />
                    <input type="submit" value="Remove from cart" class="btn btn-danger btn-sm" />
                </form>
            </td>
        </tr>
        <tr style="font-weight: bold;">
            <td>Total:</td>
            <td></td>
            <td><span th:text="${cart.total}"></span></td>
        </tr>
        </tbody>
    </table>

    <div>
        <form th:action="@{/finish}" method="post">
            <input type="hidden" name="cartId" th:value="${cart.id}" />
            <input type="submit" value="Finish Shoppng" class="btn btn-success" />
        </form>
    </div>
</div>

<footer style="position: fixed; bottom: 0; left: 3%">
    <p>Author: Joanna Neubauer | <span><a href="https://github.com/JNeubau">GitHub</a></span> </p>
</footer>

</body>
</html>